"use strict";var oSubmit=document.querySelector("form input:last-of-type"),oInputName=document.querySelector("form input:first-of-type"),oInputPwd=document.querySelector("form input:nth-of-type(2)"),oInputPwd2=document.querySelector("form input:nth-of-type(3)"),oInputNum=document.querySelector("form input:nth-of-type(4)"),oForm=document.querySelector("form"),oSpan=document.querySelector("form span");oSpan.innerHTML=setRandomNum(),oSpan.style.color=setRandomColor(),oSpan.addEventListener("click",function(){oSpan.innerHTML=setRandomNum(),oSpan.style.color=setRandomColor()});var userName=oInputName.value,userPwd=oInputPwd.value,userPwd2=oInputPwd2.value,reg=/^\s*$/;""!==userName&&""!=userPwd&&""!=userPwd2||(oSubmit.style.opacity="0.5"),oForm.addEventListener("input",function(){reg.test(oInputName.value)||reg.test(oInputPwd.value)||reg.test(oInputPwd2.value)||reg.test(oInputNum.value)||(oSubmit.style.background="red")}),oSubmit.onclick=function(){oForm.addEventListener("submit",function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!0});var e=oInputName.value,t=oInputPwd.value,o=oInputPwd2.value;""!==e&&""!=t&&""!=o||(oSubmit.style.opacity="0.5");var n=oInputNum.value.toUpperCase(),u=oSpan.innerText.toUpperCase();t!=o&&(window.history.go(0),window.confirm("密码不一致请重新输入")),n!=u&&(window.history.go(0),window.confirm("验证码不一致请重新输入")),$.ajax({url:"../server/xm_res.php",type:"post",data:{userName:e,userPwd:t},dataType:"json",success:function(e){1===e.res?(window.alert("注册成功,点击确定,跳转首页面"),window.location.href="./index.html"):window.alert("注册失败,用户名重复,请您重新设定用户名,玩命继续注册")}})};